import time
import datetime
from timeit import default_timer as timer

'''
TinyDBController table structure

user object:
{
    'id': Number,
    'first_name': String,
    'last_name': String,
    'parent_id': Number,
    'children': id[],
    'email': String
}
'''

class NetworkController:
    def __init__(self, db_controller, selenium_controller, process_interval_seconds):
        self.process_interval = process_interval_seconds
        self.running = True
        self.debug = True
        self.debug_print("Network Controller initialized!")

        # getting running Selenium and TinyDB controller instances
        self.selenium = selenium_controller
        self.db = db_controller

        # main process lifecycle
        while self.running:
            self.process()

        # terminate lifecycle
        self.debug_print("Network Controller process terminated.")
        self.selenium.close_browser()

    def process(self):
        start_time = timer()
        self.debug_print("Starting process cycle")
        # Process cycle start ===========================

        self.build_network()

        # Process cycle end =============================
        end_time = timer()
        duration = end_time - start_time
        delay = self.process_interval - duration
        self.debug_print("Process cycle took {:7.2f} seconds. "
                         "Starting next process cycle in {:7.2f} seconds".format(duration, delay))
        time.sleep(delay)

    def quit_process(self):
        self.debug_print("quitting process after current running iteration..")
        self.running = False

    def debug_print(self, string):
        prefix = "[NetworkCtrl] {} - ".format(datetime.datetime.now())
        if self.debug: print(prefix + string)

    # builds user network from scratch
    def build_network(self):
        self.debug_print("Building network..")
        self.db.tables['user'].purge_tables()  # clears all entries in table
        all_users = self.get_all_users()
        for user in all_users:
            user_info = self.get_user_info(user['id'])
            self.db.insert('user', {
                'id': user['id'],
                'first_name': user['first_name'],
                'last_name': user['last_name'],
                'email': user['email'],
                'parent_id': user_info['parent_id'],
                'children': [],
            })
        self.debug_print("Users fetched, connecting parent and child nodes")
        for user in all_users:
            user_id = user['id']
            # get current user's parent id from local db
            user_db_obj = self.db.search('user', 'id', user_id)[0]
            parent_id = user_db_obj['parent_id']
            # if this user has a parent
            if parent_id > 0:
                # append this user's id to its parent's children list
                parent_object = self.db.search('user', 'parent_id', parent_id)[0]
                children_list = parent_object['children']
                children_list.append(user['id'])
                self.db.update('user', 'id', parent_id, 'children', children_list)
                self.debug_print('Linked  {} --> {}'.format(user_id, parent_id))

        self.debug_print("Build network complete!")

    def get_user_info(self, user_id):
        payload = self.selenium.fetch_json('https://af.secomapp.com/admin/affiliates/{}'.format(user_id))
        return payload['data']

    def get_all_users(self):
        payload = self.selenium.fetch_json('https://af.secomapp.com/admin/affiliates/datatables')
        return payload['data']


if __name__ == "__main__":
    users = [{'id': '128835', 'first_name': 'Chang', 'last_name': 'Zhe Ying', 'email': 'zheying823@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585387264', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130352', 'first_name': 'Loi', 'last_name': 'KC', 'email': 'kcloi92@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585575161', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130384', 'first_name': 'Yuuki', 'last_name': 'Chai', 'email': 'yuki-1996@live.com', 'coupon': None, 'status': '1', 'created_at': '1585577427', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130437', 'first_name': 'Alice', 'last_name': 'Tang', 'email': 'alice18@ymail.com', 'coupon': None, 'status': '1', 'created_at': '1585581922', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130465', 'first_name': 'Shi Ping', 'last_name': 'Eng', 'email': 'esp@nixel.tech', 'coupon': None, 'status': '1', 'created_at': '1585583611', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130472', 'first_name': 'cecilia chia', 'last_name': 'chui peng', 'email': 'ccp6062@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585584049', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130595', 'first_name': 'yen', 'last_name': 'kin choy', 'email': 'charlesyensac@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585592228', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130733', 'first_name': 'toh', 'last_name': 'Fong peng', 'email': 'Yvvone77@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585604840', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130871', 'first_name': 'Kum Fatt', 'last_name': 'Ho', 'email': 'hokumfatt@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585623196', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130957', 'first_name': 'Bee Thin', 'last_name': 'Tan', 'email': 'btlc888888@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585636239', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130966', 'first_name': 'cindy pei yi', 'last_name': 'chong', 'email': 'misscindy_520@hotmail.com', 'coupon': None, 'status': '1', 'created_at': '1585637587', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '130972', 'first_name': 'Yap', 'last_name': 'Andy', 'email': 'andyyap@sunfresh.my', 'coupon': None, 'status': '1', 'created_at': '1585639034', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131018', 'first_name': 'Eng', 'last_name': 'Li yun', 'email': 'Stellar896@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585647054', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131036', 'first_name': 'Chia', 'last_name': 'Kwee Leng', 'email': 'qq_chia996@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585650842', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131041', 'first_name': 'Swee', 'last_name': 'Hock Ming', 'email': 'sweehockming@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585651800', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131048', 'first_name': 'NG', 'last_name': 'chinsoon', 'email': 'chinsoon80@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585652610', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131065', 'first_name': 'qui', 'last_name': 'heang', 'email': 'quiheang@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585653941', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131068', 'first_name': 'Swee', 'last_name': 'York Chin', 'email': 'syc772002@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585654398', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131184', 'first_name': 'lin', 'last_name': 'ya qing', 'email': 'Gracie3943@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585660695', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131205', 'first_name': 'Heng', 'last_name': 'Aik Seng', 'email': 'Vincentheng6666@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585661353', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131586', 'first_name': 'Brian', 'last_name': 'Yap', 'email': 'brian1413191@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585690402', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131734', 'first_name': 'crystal', 'last_name': 'ngooi', 'email': 'fccrystal888@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585704098', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131784', 'first_name': 'Kee siang', 'last_name': 'Lim', 'email': 'keesiang@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585708040', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131789', 'first_name': 'Le Xuan', 'last_name': 'Hoang', 'email': 'couponsplusdeals.com@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585708182', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131800', 'first_name': 'KONG FATT', 'last_name': 'YONG', 'email': 'jeffreeyong9999@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585708599', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131853', 'first_name': 'Yvonny', 'last_name': 'Ng', 'email': 'seefenfen@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585712782', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131891', 'first_name': 'Yow', 'last_name': 'Fah', 'email': 'amyyow1032@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585716449', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131926', 'first_name': 'Apple', 'last_name': 'Khoo', 'email': 'applekhoo@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585720235', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '131963', 'first_name': 'K.T', 'last_name': 'Yap', 'email': 'ktyap88@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585724353', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132004', 'first_name': 'Tan', 'last_name': 'Kian Kiat', 'email': 'kiankiat_1@hotmail.com', 'coupon': None, 'status': '1', 'created_at': '1585731214', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132017', 'first_name': 'JEK SHENG', 'last_name': 'Lee', 'email': 'leejeksheng@hotmail.com', 'coupon': None, 'status': '1', 'created_at': '1585732891', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132096', 'first_name': 'NG', 'last_name': 'CHIN SOON', 'email': 'chinsoon80@yahoo.cim', 'coupon': None, 'status': '1', 'created_at': '1585743165', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132103', 'first_name': 'LIM', 'last_name': 'CHEE HOOI', 'email': 'Limcheehooi9392@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585743706', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132115', 'first_name': 'Sim', 'last_name': 'kaixuan', 'email': 'xuan520leng@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585745656', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132138', 'first_name': 'kong5813', 'last_name': 'Ham yoke kong', 'email': 'yokekongham@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585747830', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132151', 'first_name': 'bonus', 'last_name': 'pay', 'email': 'jimmyyongkl@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585749138', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132193', 'first_name': 'Cheok', 'last_name': 'Boon Hock', 'email': 'cheokbh61@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585752303', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '132300', 'first_name': 'siew', 'last_name': 'tze shin', 'email': 'tzeshin20@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585760079', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '134267', 'first_name': 'lim', 'last_name': 'vee seong', 'email': 'vecolimveeseong@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585786945', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '134407', 'first_name': 'Loo', 'last_name': 'SIEW GUAT', 'email': 'siewguat1969@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585802518', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '134664', 'first_name': 'Vivian', 'last_name': 'Chan', 'email': 'Vivianchan9932@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1585835038', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '134667', 'first_name': 'Vivian', 'last_name': 'Chan', 'email': 'Shic5281@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1585835400', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '187811', 'first_name': 'connie', 'last_name': 'ser', 'email': 'connieser5820@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1586262774', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '188879', 'first_name': 'KONG FATT', 'last_name': 'YONG', 'email': 'kfyong3991@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1586310813', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '190222', 'first_name': 'tan', 'last_name': 'xiao yuan', 'email': 'xiaoyuen89@hotmail.com', 'coupon': None, 'status': '1', 'created_at': '1586491461', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '191180', 'first_name': 'Wei Shean', 'last_name': 'Teh', 'email': 'cns3349@gmail.com', 'coupon': None, 'status': '1', 'created_at': '1586602421', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '191982', 'first_name': 'Adam', 'last_name': 'Chia', 'email': 'adamchia9199@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1586692285', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}, {'id': '191987', 'first_name': 'Jason fu', 'last_name': 'Jason fu', 'email': 'mnjlpgenterprise@yahoo.com', 'coupon': None, 'status': '1', 'created_at': '1586693000', 'program_id': '11570', 'program': {'id': '11570', 'shop_id': '10744', 'name': 'Standard Affiliate Commission', 'description': 'You will get 10% commission on total referral sales when a customer makes a purchase through your affiliate link or use your coupon code.', 'status': 0, 'is_default': '1', 'commission_type': 0, 'commission_amount': '10.00', 'customer_discount_type': None, 'customer_discount_amount': None, 'auto_apply_coupon': 0, 'auto_apply_coupon_by': '1', 'defined_coupon': None, 'deleted_at': None, 'created_at': '2020-03-20 10:43:06', 'updated_at': '2020-04-07 01:05:11', 'lifetime_commission': 0, 'exclude_shipping': '1', 'exclude_tax': '1', 'include_eu_vat': 0, 'ignore_self_referral': '1', 'payment_support': None}}]
    print("Debug run")

    # for user in users:
    #     print(user['id'], user['first_name'], user['last_name'], user['email'])
